<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åƒç´ ç»‡æ¢¦ (PixelKnit) - YangCazz</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- ç²’å­èƒŒæ™¯ç”»å¸ƒ -->
    <canvas id="particleCanvas"></canvas>
    
    <script>
    // ç²’å­ç³»ç»Ÿ - ä¸åšå®¢ä¸»é¡µä¿æŒä¸€è‡´
    class ParticleSystem {
        constructor() {
            this.canvas = document.getElementById('particleCanvas');
            this.ctx = this.canvas.getContext('2d');
            this.particles = [];
            this.mouse = { x: 0, y: 0 };
            this.init();
        }
        
        init() {
            this.resizeCanvas();
            this.createParticles();
            this.animate();
            
            window.addEventListener('resize', () => this.resizeCanvas());
            window.addEventListener('mousemove', (e) => {
                this.mouse.x = e.clientX;
                this.mouse.y = e.clientY;
            });
        }
        
        resizeCanvas() {
            this.canvas.width = window.innerWidth;
            this.canvas.height = window.innerHeight;
        }
        
        createParticles() {
            const particleCount = Math.floor((this.canvas.width * this.canvas.height) / 15000);
            this.particles = [];
            
            for (let i = 0; i < particleCount; i++) {
                this.particles.push({
                    x: Math.random() * this.canvas.width,
                    y: Math.random() * this.canvas.height,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5,
                    size: Math.random() * 2 + 1,
                    opacity: Math.random() * 0.5 + 0.1
                });
            }
        }
        
        animate() {
            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            
            this.particles.forEach((particle, index) => {
                // æ›´æ–°ä½ç½®
                particle.x += particle.vx;
                particle.y += particle.vy;
                
                // è¾¹ç•Œæ£€æŸ¥
                if (particle.x < 0 || particle.x > this.canvas.width) particle.vx *= -1;
                if (particle.y < 0 || particle.y > this.canvas.height) particle.vy *= -1;
                
                // é¼ æ ‡äº¤äº’
                const dx = this.mouse.x - particle.x;
                const dy = this.mouse.y - particle.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 100) {
                    const force = (100 - distance) / 100;
                    particle.vx += dx * force * 0.001;
                    particle.vy += dy * force * 0.001;
                }
                
                // ç»˜åˆ¶ç²’å­
                this.ctx.beginPath();
                this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                this.ctx.fillStyle = `rgba(66, 153, 225, ${particle.opacity})`;
                this.ctx.fill();
                
                // è¿æ¥çº¿
                for (let j = index + 1; j < this.particles.length; j++) {
                    const other = this.particles[j];
                    const dx = particle.x - other.x;
                    const dy = particle.y - other.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 100) {
                        this.ctx.beginPath();
                        this.ctx.moveTo(particle.x, particle.y);
                        this.ctx.lineTo(other.x, other.y);
                        this.ctx.strokeStyle = `rgba(66, 153, 225, ${0.1 * (1 - distance / 100)})`;
                        this.ctx.lineWidth = 1;
                        this.ctx.stroke();
                    }
                }
            });
            
            requestAnimationFrame(() => this.animate());
        }
    }
    
    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–ç²’å­ç³»ç»Ÿ
    document.addEventListener('DOMContentLoaded', function() {
        new ParticleSystem();
    });
    </script>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="top-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/">
                    <span class="brand-text">YangCazz</span>
                    <span class="brand-dot">.</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="/" class="nav-link">
                    <span class="nav-icon">âŒ‚</span>
                    <span class="nav-text">é¦–é¡µ</span>
                </a>
                <a href="/blog" class="nav-link">
                    <span class="nav-icon">â—†</span>
                    <span class="nav-text">åšå®¢</span>
                </a>
                <a href="/resume" class="nav-link">
                    <span class="nav-icon">â—ˆ</span>
                    <span class="nav-text">ç®€å†</span>
                </a>
                <a href="/about" class="nav-link">
                    <span class="nav-icon">â—‰</span>
                    <span class="nav-text">å…³äº</span>
                </a>
                <a href="/apps" class="nav-link">
                    <span class="nav-icon">â—</span>
                    <span class="nav-text">åº”ç”¨</span>
                </a>
            </div>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <div class="content-wrapper">
            <div class="app-container">
                <!-- é¡µé¢å¤´éƒ¨ -->
                <header class="app-header">
                    <h1 class="app-title">ğŸ§¶ åƒç´ ç»‡æ¢¦</h1>
                    <p class="app-subtitle">PixelKnit - å¯è§†åŒ–ç½‘æ ¼åœ°å›¾ï¼Œå¸®åŠ©æ‚¨è·Ÿè¸ªç¼–ç»‡è¿›åº¦</p>
                </header>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-container">
            <!-- å·¦ä¾§ï¼šåœ°å›¾åˆ—è¡¨ -->
            <aside class="maps-sidebar">
                <h2 class="sidebar-title">åœ°å›¾åˆ—è¡¨</h2>
                <div id="maps-list-container" class="maps-list-container">
                    <!-- åœ°å›¾åˆ—è¡¨å°†åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </aside>

            <!-- ä¸­é—´ï¼šä¸»ç½‘æ ¼ç¼–ç»‡å›¾ -->
            <main class="main-grid-section">
                <h2 class="section-title">ç½‘æ ¼ç¼–ç»‡å›¾</h2>
                <div class="canvas-wrapper">
                    <canvas id="main-grid-canvas"></canvas>
                </div>
                <button id="mark-completed-btn" class="btn btn-primary">æ ‡è®°ä¸ºå·²å®Œæˆ</button>
            </main>
        </div>

        <!-- å³ä¾§ï¼šæµ®åŠ¨æ§åˆ¶é¢æ¿ -->
        <aside class="floating-controls">
            <h3 class="controls-title">å¯¹è§’ç¼–ç»‡æ¨¡å¼</h3>
            <div id="current-path-status" class="path-status" style="display: none;">
                <p class="path-info">æ€»æ–¹å—æ•°: <span id="path-total-squares">0</span></p>
                <div id="path-color-breakdown" class="color-breakdown-container"></div>
            </div>
            <button id="enter-diagonal-mode-btn" class="btn btn-mode">è¿›å…¥å¯¹è§’é¢„è®¾æ¨¡å¼</button>
            <button id="prev-diagonal-btn" class="btn btn-nav" disabled>ä¸Šä¸€æ¡</button>
            <button id="next-diagonal-btn" class="btn btn-nav" disabled>ä¸‹ä¸€æ¡</button>
            <div class="divider"></div>
            <button id="save-progress-btn" class="btn btn-save">ä¿å­˜å½“å‰è¿›åº¦</button>
            <button id="load-progress-btn" class="btn btn-load" disabled>åŠ è½½ä¸Šæ¬¡è¿›åº¦</button>
            <button id="reset-progress-btn" class="btn btn-reset">é‡ç½®å½“å‰è¿›åº¦</button>
            <div class="progress-section">
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="progress-bar-fill"></div>
                    <span class="progress-text" id="progress-text">0%</span>
                </div>
            </div>
        </aside>

        <!-- åº•éƒ¨ï¼šç¼–ç»‡é¡ºåºæ¨ªæ¡ -->
        <div id="path-color-sequence-container" class="color-sequence-container hidden">
            <p class="sequence-label">å½“å‰ç¼–ç»‡é¡ºåº:</p>
            <div id="path-color-sequence" class="color-sequence"></div>
        </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
