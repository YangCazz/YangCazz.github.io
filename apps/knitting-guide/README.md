# 🧶 编织引导应用

一个用于引导编织工作的 Web 应用程序，通过可视化网格地图帮助用户跟踪编织进度。

## ✨ 功能特性

### 核心功能

1. **双地图显示**
   - **地图列表**: 显示所有可用地图的概览，展示整体编织进度
   - **网格编织图**: 可交互的主网格，支持放大查看和详细操作

2. **编织状态管理**
   - **已完成方块**: 完整颜色显示，黑色边框
   - **未完成方块**: 浅色透明状态，灰色边框
   - **路径高亮方块**: 完整颜色，深红色加粗边框

3. **路径选择模式**
   - **手动路径选择**: 点击选择起点，拖拽/点击设置终点，自动计算并高亮直线路径
   - **对角预设模式**: 从右下角开始，按对角线从右向左推进的预设路径模式

4. **对角预设模式功能**
   - 进入/退出对角预设模式（切换按钮）
   - 下一条：标记当前对角线为已完成，前进到下一条
   - 上一条：撤销上一条的完成状态，返回上一条
   - 标记为已完成：仅标记当前路径，不自动前进
   - 长按支持：快速前进/后退

5. **进度跟踪**
   - 实时进度条显示整体编织完成百分比
   - 当前路径状态显示：
     - 总方块数
     - 按颜色划分的方块数量（带色块显示）
   - 当前编织顺序横条：显示当前路径的颜色序列，支持点击高亮对应方块

6. **放大镜功能**
   - 鼠标悬停时显示局部放大视图
   - 3倍放大，清晰的像素显示
   - 红色十字线指示中心位置
   - 固定位置显示，不受滚动影响

7. **数据持久化**
   - 保存当前进度到 localStorage
   - 加载上次保存的进度
   - 重置所有进度

## 🎨 设计风格

本应用采用与博客项目一致的艺术风格：

- **玻璃态效果**: 半透明背景 + 模糊效果
- **渐变色彩**: 蓝色到紫色的渐变主题
- **现代化设计**: 圆角、阴影、平滑过渡动画
- **响应式布局**: 适配桌面、平板和移动设备

## 🚀 使用方法

### 启动应用

1. 确保 `data/json/` 目录下有地图数据文件：
   - `maps_list.json`: 地图列表配置
   - `pixel_map_data.json`: 像素地图数据（或其他地图数据文件）

2. 在浏览器中打开 `index.html`

3. 或使用本地服务器（推荐）：
   ```bash
   # Python 3
   cd apps/knitting-guide
   python -m http.server 8000
   # 然后访问 http://localhost:8000
   ```

### 基本操作

1. **手动路径选择**:
   - 在网格编织图上点击选择起点
   - 拖拽或点击设置终点
   - 点击"标记为已完成"按钮完成路径

2. **对角预设模式**:
   - 点击"进入对角预设模式"按钮
   - 使用"下一条"/"上一条"按钮导航
   - 点击"标记为已完成"标记当前路径

3. **查看进度**:
   - 查看右侧浮动面板的进度条
   - 查看当前路径状态信息
   - 查看底部编织顺序横条

4. **保存/加载进度**:
   - 点击"保存当前进度"保存状态
   - 点击"加载上次进度"恢复状态
   - 点击"重置当前进度"清除所有进度

## 📁 项目结构

```
knitting-guide/
├── index.html          # 主页面
├── style.css           # 样式表
├── script.js           # 主应用逻辑
├── data/               # 数据文件目录
│   └── json/           # JSON 数据文件
│       ├── maps_list.json
│       └── pixel_map_data.json
└── README.md           # 项目说明文档
```

## 🔧 技术实现

### 技术栈

- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **Canvas API**: 用于网格渲染和交互
- **localStorage**: 客户端数据持久化
- **Bresenham 算法**: 直线路径计算

### 数据格式

JSON 数据格式：
```json
{
  "grid_data": [[1, 2, ...], ...],
  "color_map": {
    "1": [255, 0, 0],
    "2": [0, 255, 0],
    ...
  }
}
```

## 🌐 浏览器兼容性

- Chrome/Edge (推荐)
- Firefox
- Safari

## 📄 许可证

MIT License

---

**祝编织愉快！🧶✨**
