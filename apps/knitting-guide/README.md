# 🧶 针织引导 - Knitting Guide

一个交互式网页应用，帮助您将图片转换为针织图案，并逐步引导完成编织过程。

## ✨ 功能特性

### 📸 图片转换
- 上传任意图片
- 自动转换为像素化针织图案
- 可调整网格大小控制精细度
- 智能颜色量化，减少线团数量

### 🎯 逐步引导
- 高亮显示当前要编织的方块
- 实时进度追踪
- 完成状态可视化
- 支持前进/后退操作

### 🎨 调色板管理
- 自动生成配色方案
- 显示每种颜色的用量
- RGB颜色代码显示
- 可视化颜色预览

### 💾 进度管理
- 自动保存编织进度
- 下次访问可继续
- 重置功能
- 导出图案（开发中）

## 🚀 使用方法

### 第一步：选择图片
1. 点击"选择图片"按钮
2. 从本地选择一张图片
3. 图片会显示在左侧预览区

### 第二步：设置参数
- **网格大小**：控制图案的精细度
  - 较小值（10-20）：精细但复杂
  - 中等值（20-40）：推荐初学者
  - 较大值（40-100）：简单快速

- **颜色数量**：控制需要的线团种类
  - 2-4种：简单项目
  - 6-8种：适中复杂度（推荐）
  - 10-20种：高级图案

### 第三步：生成图案
1. 点击"生成图案"按钮
2. 应用会自动处理图片
3. 生成的图案显示在右侧
4. 调色板显示所需颜色

### 第四步：开始编织
1. 点击"开始引导"
2. 红色边框标记当前要编织的方块
3. 查看右上角的"当前颜色"提示
4. 完成后点击方块或按"下一步"

### 快捷键
- `空格键` / `Enter`：完成当前方块
- `←`：回到上一步
- `→`：前进到下一步

## 🎨 编织技巧

### 初学者建议
- 从简单的图案开始（如几何图形、简单图标）
- 使用较大的网格尺寸（30-40像素）
- 限制颜色数量（6-8种）
- 选择对比度高的图片

### 高级技巧
- 使用照片编辑器预处理图片以获得更好效果
- 调整图片对比度和饱和度
- 裁剪图片到合适的比例
- 对于人像，建议使用更细的网格

## 📊 技术实现

### 核心算法
- **图像采样**：使用画布API提取像素颜色
- **K-means聚类**：智能颜色量化
- **欧几里得距离**：颜色相似度计算
- **逐行扫描**：编织顺序优化

### 数据结构
```javascript
{
  patternData: [
    [
      { color: 'rgb(255,0,0)', completed: false },
      // ...
    ]
  ],
  colorPalette: ['rgb(255,0,0)', ...],
  currentStep: 0,
  completedSteps: Set([0, 1, 2, ...])
}
```

### 浏览器兼容性
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 🔧 未来计划

- [ ] 图案导出为PDF
- [ ] 打印友好模式
- [ ] 图案库/预设模板
- [ ] 社区分享功能
- [ ] 时间估算
- [ ] 材料清单生成
- [ ] 多种编织模式（逐行、螺旋、等）

## 📝 常见问题

### Q: 推荐的图片尺寸？
A: 建议使用 500x500 到 1000x1000 像素的图片。太大会导致处理缓慢。

### Q: 颜色不够准确怎么办？
A: 尝试增加颜色数量，或在上传前使用图片编辑器调整颜色。

### Q: 可以保存图案吗？
A: 当前支持保存进度到浏览器本地存储。导出功能正在开发中。

### Q: 如何选择合适的图案？
A: 建议选择轮廓清晰、颜色对比明显的图片。避免过于复杂的背景。

## 👥 贡献

欢迎提出建议和改进意见！

## 📄 许可证

MIT License

## 💝 致谢

感谢所有编织爱好者的灵感和反馈！

---

**祝编织愉快！🧶✨**

